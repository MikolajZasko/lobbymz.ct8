import"./style-BOwBjp9X.js";import{H as k,a as z,S as w,R as v,C,B as S,O as E}from"./OrbitControls-DxKF183B.js";class I{constructor(d){this.scene=d,this.getData(!0)}getData(d=!1){const c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ok:"ok"})};fetch("/loadFromServer",c).then(r=>r.json()).then(r=>{if(r.test=="test"){alert("game was not saved yet");let l=document.createElement("a");l.href="/",l.innerHTML="powrÃ³t",l.className="aaa",document.body.append(l),document.getElementById("root").style.display="none",document.body.className="bodyFlex"}else if(d)this.makeLevel(r);else return r}).catch(r=>console.log(r))}makeLevel(d){let c=d.level;const r=z.radius;for(let l=0;l<c.length;l++){let g=c[l],i=g.dirIn,p=g.dirOut,s=g.x,n=g.y;if(l!=0){console.log("---------------------------"),console.log("now checking for hex on: ",s,":",n);let o=s,e=n,f=s%2==0;for(let a=0;a<6;a++){a==0&&(o-=1),a==0&&f&&(e-=1),a==2&&(o+=1,e=n-1),a==3&&(e=n+1),a==4&&(o+=1,e=n),a==4&&f&&(e-=1);for(let x=0;x<c.length;x++){const t=c[x];if(t.x==o&&t.y==e){if(f){if(t.dirOut==0&&e-1==n&&o==s){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}else if(t.dirOut==1&&o+1==s&&e==n){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}else if(t.dirOut==2&&o+1==s&&e+1==n){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}else if(t.dirOut==3&&e+1==n&&o==s){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}else if(t.dirOut==4&&o-1==s&&e+1==n){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}else if(t.dirOut==5&&o-1==s&&e==n){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}}else if(t.dirOut==0&&e-1==n&&o==s){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}else if(t.dirOut==1&&o+1==s&&e-1==n){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}else if(t.dirOut==2&&o+1==s&&e==n){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}else if(t.dirOut==3&&e+1==n&&o==s){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}else if(t.dirOut==5&&o-1==s&&e-1==n){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}else if(t.dirOut==4&&o-1==s&&e==n){console.log("there is hex nearby in x:",o," z: ",e),console.log("it is pointing to us!"),i=t.dirOut;break}break}}e++}}l!=0&&(i>=3?i-=3:i==2?i=5:i==1?i=4:i==0&&(i=3));let y=g.type,h=new k(i,p,this.scene,y);h.position.x=r*s*1.73,h.position.z=r*n*2,s%2!=0&&(h.position.z+=r)}}}const R=document.getElementById("root"),u=new w,b=new v(u,R),O=new C(b.threeRenderer);new S(u);new I(u);const j=new E(O.threeCamera,b.threeRenderer.domElement),m={render(){console.log("render"),b.render(u,O.threeCamera),j.update(),requestAnimationFrame(m.render)}};m.render();
